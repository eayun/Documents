# 使用 Cloud-Init 准备一个模板
**概述**<br/>
使用 Cloud-Init 在一个模板中包括一组标准的设置。

> **注意**
>
> 以下介绍了在准备模板时如何使用 Cloud-Init 的方法。其中的设置也出现在**新建虚拟机**和**编辑模板**窗口中。

**使用 Cloud-Init 准备一个模板**

1.  选虚拟机标签页并选择一个虚拟机。

1. 点编辑键打开编辑虚拟机窗口。

1. 点初始运行标签页，选择使用 Cloud-Init/Sysprep 选项。

1. 在虚拟机主机名项中输入主机名。

1. 选中配置时区并从时区下拉菜单中选择所需的时区。

1. 展开验证项，您可以选中使用已经配置的密码选项来使用已经存在的密码来进行验证；也可以不选择它而在根密码和验证根密码项中设置一个新的根密码。

1. 在SSH 授权密钥项中输入 SSH 密钥，这个密钥会被添加到虚拟机的授权主机文件中。

1. 选中重新产生 SSH 密钥选项来为虚拟机重新产生 SSH 密钥。

1. 展开网络项，在 DNS 服务器项中输入 DNS 服务器。

1. 在 DNS 搜索域中输入 DNS 搜索域。

1. 选中网络，并使用 + 和 - 键来为虚拟机添加网络接口或从虚拟机上删除网络接口。

1. 展开自定义脚本，在自定义脚本项中输入自定脚本。

1. 点确定。

> **重要**
>
> Cloud-Init 只在兼容版本为 3.3 或更高版本的集群中被支持。

**结果**<br/>
在虚拟机启动时进行了特定的配置。
